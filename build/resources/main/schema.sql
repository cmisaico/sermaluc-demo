DROP ALL OBJECTS;
CREATE USER IF NOT EXISTS "SA" SALT 'fb56a3fc4baf41ef' HASH '464791ccd4f3ad21e99909dca1e39e4ab5e6711ae5563d958c67065c567c20d1' ADMIN;

CREATE MEMORY TABLE "PUBLIC"."USERS"(
    "IS_ACTIVE" BOOLEAN NOT NULL,
    "CREATED" TIMESTAMP(6) NOT NULL,
    "LAST_LOGIN" TIMESTAMP(6),
    "MODIFIED" TIMESTAMP(6) NOT NULL,
    "ID" UUID NOT NULL,
    "NAME" CHARACTER VARYING(50),
    "EMAIL" CHARACTER VARYING(255),
    "PASSWORD" CHARACTER VARYING(255)
);

CREATE MEMORY TABLE "PUBLIC"."TOKEN_INFO"(
    "EXPIRATION_DATE" TIMESTAMP(6),
    "ID" BIGINT GENERATED BY DEFAULT AS IDENTITY(START WITH 1) NOT NULL,
    "USER_ID" UUID,
    "TOKEN" CHARACTER VARYING(255)
);

CREATE MEMORY TABLE "PUBLIC"."PHONES"(
    "ID" BIGINT NOT NULL,
    "CITYCODE" CHARACTER VARYING(255),
    "CONTRYCODE" CHARACTER VARYING(255),
    "NUMBER" CHARACTER VARYING(255)
);

ALTER TABLE "PUBLIC"."USERS" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_4" PRIMARY KEY("ID");
ALTER TABLE "PUBLIC"."TOKEN_INFO" ADD CONSTRAINT "PUBLIC"."FKT3L1KG1DML5YJPIBC2O46T9MA" FOREIGN KEY("USER_ID") REFERENCES "PUBLIC"."USERS"("ID") NOCHECK;
ALTER TABLE "PUBLIC"."TOKEN_INFO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_24B" PRIMARY KEY("ID");
ALTER TABLE "PUBLIC"."TOKEN_INFO" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_24" UNIQUE("USER_ID");
ALTER TABLE "PUBLIC"."PHONES" ADD CONSTRAINT "PUBLIC"."CONSTRAINT_8" PRIMARY KEY("ID");